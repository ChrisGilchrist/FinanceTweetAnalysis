<mat-drawer-container class="d-flex flex-column h-100">
  <mat-drawer-content class="d-flex flex-column h-100 p-4">
    <main class="flex-fill overflow-hidden">

      <div id="info-section" class="d-flex h-100 flex-row justify-content-center align-items-center overflow-auto">

        <div class="d-flex flex-column h-100">
          <div class="border rounded bg-white p-3">
            <h5 class="mb-3">Lilly Appreciation Pic</h5>
            <img width="300" src="assets/lilly.JPG"> 
          </div>
        </div>

        <div class="d-flex flex-column h-100 w-100 border rounded bg-white overflow-hidden p-3 mx-5" [style.maxWidth.px]="600">
          <h5 class="mb-3">StockTwits Sentiment Analysis</h5>
          <p class="date text-grey">Sentiment Analysis of a 
            <a href="https://huggingface.co/datasets/ElKulako/stocktwits-crypto">dataset</a>
            of messages from StockTwits. Using model 
            <a href="https://huggingface.co/StephanAkkerman/FinTwitBERT-sentiment" target="_blank">StephanAkkerman/FinTwitBERT-sentiment</a>
            to determine whether it's 
            <span class="text-success fw-bold">BULLISH</span> or
            <span class="text-danger fw-bold">BEARISH</span> with the market.
          </p>

          <div class="d-flex flex-column h-100 w-100 overflow-auto">
            <div class="d-flex border rounded p-2 mb-2 justify-content-between" *ngFor="let message of messages">
              <div class="d-flex flex-column me-4">
                <div class="message mb-2">{{ message.message }}</div>
                <div class="date text-grey-light">{{ message.timestamp | date: 'medium' }}</div>
              </div>
              <div class="d-flex flex-column align-items-center">
                <div class="d-flex flex-column align-items-center">
                  <div>
                    <span *ngIf="message.sentiment.label === 'BULLISH'">🐂</span>
                    <span *ngIf="message.sentiment.label === 'NEUTRAL'">😐</span>
                    <span *ngIf="message.sentiment.label === 'BEARISH'">🐻</span>
                  </div>
                  <div 
                  [class.text-success]="message.sentiment.label === 'BULLISH'"
                  [class.text-danger]="message.sentiment.label === 'BEARISH'"
                  [class.text-grey-light]="message.sentiment.label === 'NEUTRAL'"
                  class="fw-bold date">{{ message.sentiment.label }}</div>
                </div>
                <div class="fw-bold text-grey date">{{ message.sentiment.score | number : '1.2-2' }}</div> 
              </div>
            </div>
          </div>
        </div>

        <div class="d-flex flex-column h-100">
          <div class="border rounded bg-white p-3">
            <h5 class="mb-3">Analysis Summary</h5>
            <p class="text-grey">🐂 Bulls - <span class="fw-bold">{{ bullCount }}</span></p>
            <p class="text-grey">🐻 Bears - <span class="fw-bold">{{ bearCount }}</span></p>
            <div class="d-flex flex-column justify-content-center align-items-center">
              <p class="text-grey">
                The market is currently looking:
              </p>
              <ng-container *ngIf="bullCount > bearCount">
                <p class="status text-success">BULLISH</p>
                <img  width="300" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMm9kNnBpa2VvamZhNnRpZGdrajhoNjR4ZmZ0bjAzdTBmcTM1ZXFnbyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/AmRBGkss5kBCcney1T/giphy.gif"> 
              </ng-container>

              <ng-container *ngIf="bullCount < bearCount">
                <p class="status text-danger">BEARISH</p>
                <img width="300" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExejJsajN5YmJuazhyZm5qcWRpMWRpajV2OWZmNWtqcTZkbm5ndHhpMyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/u5d92lFrgpZyU/giphy.gif"> 
              </ng-container>

              <ng-container *ngIf="bullCount === bearCount">
              <p *ngIf="bullCount === bearCount" class="status text-grey">NEUTRAL</p>
                <img width="300" src="https://media.giphy.com/media/Z5xk7fGO5FjjTElnpT/giphy-downsized-large.gif"> 
              </ng-container>
            </div>
          </div>
        </div>
     
      </div>
    </main>
  </mat-drawer-content>
</mat-drawer-container>